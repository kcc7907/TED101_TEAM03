$(document).ready((function(){$("#lightBox01").on("click",(function(){$("div.blackBack").addClass("-on")})),$(".cancel").on("click",(function(){$("div.blackBack").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox02").on("click",(function(){$("div.blackBack2").addClass("-on")})),$(".cancel").on("click",(function(){$("div.blackBack2").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack2").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox03").on("click",(function(){$("div.blackBack3").addClass("-on")})),$(".cancel").on("click",(function(){$("div.blackBack3").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack3").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox01-mobile").on("click",(function(){$("div.blackBack").addClass("-on")})),$(".cancel-mobile").on("click",(function(){$("div.blackBack").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox02-mobile").on("click",(function(){$("div.blackBack2").addClass("-on")})),$(".cancel-mobile").on("click",(function(){$("div.blackBack2").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack2").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox03-mobile").on("click",(function(){$("div.blackBack3").addClass("-on")})),$(".cancel-mobile").on("click",(function(){$("div.blackBack3").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack3").removeClass("-on -opacity-zero")}),1e3)})),$("#size").on("click",(function(){$("#bottomCad").css({display:"flex"}),$("#bottomDelivery").css({display:"none"}),$("#delivery").css({borderBottom:"0"}),$("#size").css({borderBottom:"10px solid #bda79e"})})),$("#delivery").on("click",(function(){$("#delivery").css({borderBottom:"10px solid #bda79e"}),$("#size").css({borderBottom:"0"}),$("#bottomCad").css({display:"none"}),$("#bottomDelivery").css({display:"flex"})}));const t=document.querySelector(".slider"),e=document.querySelectorAll(".slider img"),n=document.querySelector("#left"),o=document.querySelector("#right");let i=1;const c=e[0].clientWidth;o.addEventListener("click",()=>{i>=e.length-1||(t.style.transition="transform 0.3s ease-in-out",i++,t.style.transform="translateX("+-c*i+"px)")}),n.addEventListener("click",()=>{i<=0||(t.style.transition="transform 0.3s ease-in-out",i--,t.style.transform="translateX("+-c*i+"px)")}),t.addEventListener("transitionend",()=>{"lastClone"===e[i].id&&(t.style.transition="none",i=e.length-3,t.style.transform="translateX("+-c*i+"px)"),"firstClone"===e[i].id&&(t.style.transition="none",i=e.length-i,t.style.transform="translateX("+-c*i+"px)")}),setInterval((function(){t.style.transition="transform 0.3s ease-in-out",i++,t.style.transform="translateX("+-c*i+"px)"}),5e3)}));let money=document.querySelectorAll("h1.money"),quantity=document.querySelectorAll("h1.quantity"),up=document.querySelectorAll("img.up"),down=document.querySelectorAll("img.down"),price=money[0].getAttribute("data-price");function todoadd(){quantity[0].innerText=parseInt(quantity[0].innerText)+1,money[0].innerText="$"+quantity[0].innerText*price}function todoless(){1!==parseInt(quantity[0].innerText)&&(quantity[0].innerText=parseInt(quantity[0].innerText)-1,money[0].innerText="$"+quantity[0].innerText*price)}up[0].addEventListener("click",todoadd),down[0].addEventListener("click",todoless);let btns=document.querySelectorAll("button.buy"),box=document.querySelectorAll("div.shoppingBtn"),productId=box[0].getAttribute("data-id");function setLocal(){let t=JSON.parse(localStorage.getItem("lists")),e=[];if(t){if(t.forEach((e,n)=>{if(e.prd_id===productId)e.num=parseInt(e.num)+parseInt(quantity[0].innerText);else if(t.length-1===n){let e={prd_id:productId,num:parseInt(quantity[0].innerText)};t.push(e)}}),0===t.length){let e={prd_id:productId,num:parseInt(quantity[0].innerText)};t.push(e)}e=t}else{let t={prd_id:productId,num:parseInt(quantity[0].innerText)};e.push(t)}localStorage.setItem("lists",JSON.stringify(e)),alert("已加入購物車");let n=JSON.parse(localStorage.getItem("lists")),o=document.querySelector(".shop"),i=0;if(n.forEach(t=>{i+=parseInt(t.num)}),0===i)return!1;o.classList.contains("shopnum")?o.setAttribute("data-content",i):(o.setAttribute("data-content",i),o.classList.add("shopnum"))}box[0].addEventListener("click",setLocal);let loveBtn=document.querySelectorAll("button.love");function loveItem(t){if(t.stopPropagation(),checkCookie("loging")){var e={memberId:getCookie("loging"),productId:productId};JSON.stringify(e);$.ajax({url:"../../php/13/addlove.php",type:"POST",data:{memberId:getCookie("loging"),productId:productId},error:function(t){alert("Ajax request 發生錯誤")},success:function(t){alert("已完成收藏")}})}else alert("請登入喔~~~")}loveBtn[0].addEventListener("click",loveItem);