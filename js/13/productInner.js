$(document).ready((function(){$("#lightBox01").on("click",(function(){$("div.blackBack").addClass("-on")})),$(".cancel").on("click",(function(){$("div.blackBack").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox02").on("click",(function(){$("div.blackBack2").addClass("-on")})),$(".cancel").on("click",(function(){$("div.blackBack2").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack2").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox03").on("click",(function(){$("div.blackBack3").addClass("-on")})),$(".cancel").on("click",(function(){$("div.blackBack3").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack3").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox01-mobile").on("click",(function(){$("div.blackBack").addClass("-on")})),$(".cancel-mobile").on("click",(function(){$("div.blackBack").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox02-mobile").on("click",(function(){$("div.blackBack2").addClass("-on")})),$(".cancel-mobile").on("click",(function(){$("div.blackBack2").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack2").removeClass("-on -opacity-zero")}),1e3)})),$("#lightBox03-mobile").on("click",(function(){$("div.blackBack3").addClass("-on")})),$(".cancel-mobile").on("click",(function(){$("div.blackBack3").addClass("-opacity-zero"),setTimeout((function(){$("div.blackBack3").removeClass("-on -opacity-zero")}),1e3)})),$("#size").on("click",(function(){$("#bottomCad").css({display:"flex"}),$("#bottomDelivery").css({display:"none"}),$("#delivery").css({borderBottom:"0"}),$("#size").css({borderBottom:"10px solid #bda79e"})})),$("#delivery").on("click",(function(){$("#delivery").css({borderBottom:"10px solid #bda79e"}),$("#size").css({borderBottom:"0"}),$("#bottomCad").css({display:"none"}),$("#bottomDelivery").css({display:"flex"})}));const t=document.querySelector(".slider"),e=document.querySelectorAll(".slider img"),n=document.querySelector("#left"),o=document.querySelector("#right");let i=1;const a=e[0].clientWidth;o.addEventListener("click",()=>{i>=e.length-1||(t.style.transition="transform 0.3s ease-in-out",i++,t.style.transform="translateX("+-a*i+"px)")}),n.addEventListener("click",()=>{i<=0||(t.style.transition="transform 0.3s ease-in-out",i--,t.style.transform="translateX("+-a*i+"px)")}),t.addEventListener("transitionend",()=>{"lastClone"==e[i].id&&(t.style.transition="none",i=e.length-3,t.style.transform="translateX("+-a*i+"px)"),"firstClone"==e[i].id&&(t.style.transition="none",i=e.length-i,t.style.transform="translateX("+-a*i+"px)")}),setInterval((function(){t.style.transition="transform 0.3s ease-in-out",i++,t.style.transform="translateX("+-a*i+"px)"}),5e3)}));let money=document.querySelectorAll("h1.money"),quantity=document.querySelectorAll("h1.quantity"),up=document.querySelectorAll("img.up"),down=document.querySelectorAll("img.down"),price=money[0].getAttribute("data-price");function todoadd(){quantity[0].innerText=parseInt(quantity[0].innerText)+1,quantity[1].innerText=parseInt(quantity[1].innerText)+1,money[0].innerText="$"+quantity[0].innerText*price,money[1].innerText="$"+quantity[1].innerText*price}function todoless(){1!==parseInt(quantity[0].innerText)&&(quantity[0].innerText=parseInt(quantity[0].innerText)-1,quantity[1].innerText=parseInt(quantity[1].innerText)-1,money[0].innerText="$"+quantity[0].innerText*price,money[1].innerText="$"+quantity[1].innerText*price)}up[0].addEventListener("click",todoadd),up[1].addEventListener("click",todoadd),down[0].addEventListener("click",todoless),down[1].addEventListener("click",todoless);let btns=document.querySelectorAll("button.buy"),box=document.querySelectorAll("div.shoppingBtn"),productId=box[0].getAttribute("data-id");function setLocal(t){t.stopPropagation();let e=JSON.parse(localStorage.getItem("lists")),n=[];if(e){if(e.forEach((t,n)=>{if(t.prd_id===productId)t.num=parseInt(t.num)+parseInt(quantity[0].innerText);else if(e.length-1===n){let t={prd_id:productId,num:parseInt(quantity[0].innerText)};e.push(t)}}),0===e.length){let t={prd_id:productId,num:parseInt(quantity[0].innerText)};e.push(t)}n=e}else{let t={prd_id:productId,num:parseInt(quantity[0].innerText)};n.push(t)}localStorage.setItem("lists",JSON.stringify(n)),alert("已加入購物車");let o=JSON.parse(localStorage.getItem("lists")),i=document.querySelector(".shop"),a=0;if(o.forEach(t=>{a+=parseInt(t.num)}),0===a)return!1;i.classList.contains("shopnum")?i.setAttribute("data-content",a):(i.setAttribute("data-content",a),i.classList.add("shopnum"))}box[0].addEventListener("click",setLocal),box[1].addEventListener("click",setLocal);let loveBtn=document.querySelectorAll("button.love");function loveItem(t){if(t.stopPropagation(),checkCookie("loging")){var e={memberId:getCookie("loging"),productId:productId};JSON.stringify(e);$.ajax({url:"../../php/13/addlove.php",type:"POST",data:{memberId:getCookie("loging"),productId:productId},error:function(t){alert("Ajax request 發生錯誤")},success:function(t){alert("已完成收藏")}})}else alert("請登入喔~~~")}loveBtn[0].addEventListener("click",loveItem);