function logAni(){let o=document.querySelector("#logIn");new LazyLinePainter(o,{ease:"easeOutExpo",strokeWidth:3,strokeOpacity:0,strokeColor:"#bda79e",strokeCap:"square"}).paint()}function logDoorAni(){let o=document.querySelector("#logInDoor");new LazyLinePainter(o,{ease:"easeOutExpo",strokeWidth:3,strokeOpacity:0,strokeColor:"#577c8a",strokeCap:"square"}).paint()}function logDoorBackAni(){let o=document.querySelector("#logInDoor");new LazyLinePainter(o,{ease:"easeOutExpo",strokeWidth:3,strokeOpacity:0,strokeColor:"#bda79e",strokeCap:"square"}).paint()}function signAni(){let o=document.querySelector("#signUp");new LazyLinePainter(o,{ease:"easeOutExpo",strokeWidth:2,strokeOpacity:1,strokeColor:"#865454",strokeCap:"square"}).paint()}function logBox(){$("#logInDoor").hide(),$("#Path_18").show(),$("div#login").show().css("zIndex","3"),$("div#login div.login").css({opacity:"1",top:"0"}),setTimeout(()=>{logAni()},500)}function signBox(){$("div#login").css("zIndex","-3").hide(),$("div#login div.login").css({opacity:"0",top:"-30vh"}),$("#account").val(""),$("#pwd").val(""),$("div#signUp").show().css("zIndex","3"),$("div#signUp div.signUp").css({opacity:"1",top:"0"}),$("#memPhoneJH").val("09"),setTimeout(()=>{signAni()},500)}function backToLog(){$("div#signUp").css("zIndex","-3").hide(),$("div#signUp div.signUp").css({opacity:"0",top:"-30vh"}),$("div#signUp input").val(""),$("div#login").show().css("zIndex","3"),$("div#login div.login").css({opacity:"1",top:"0"}),setTimeout(()=>{logAni()},500)}function closeLB(o){$("div.confirmDiv").hide(),$("div.confirmDiv").find("p.contentFont").text("關閉後將清空您所輸入的資料，請確認是否關閉？"),$("div.confirmDiv").show().css({zIndex:"99",opacity:"1"}),$("#sureGoHome").click((function(){$(o).parent("div").parent("div").parent("div").css("zIndex","-3").hide(),$(o).parent("div").parent("div").css({opacity:"0",top:"-30vh"}),$(o).parent("div").parent("div").find("form").find("input").val("").css({backgroundColor:"rgba(0, 0, 0, 0)",border:"none",borderBottom:"1px solid #BDA79E"}),$(o).parent("div").parent("div").find("form").find("select").css("border","1px solid #BDA79E"),$("#alivebox").removeClass("bcgColor"),$(o).parent("div").parent("div").find("form").find("select option").attr("selected",!1),$(o).parent("div").parent("div").find("form").find("select option:first-child").attr("selected",!0),$("div.confirmDiv").css({zIndex:"-99",opacity:"0"}).hide()})),$("#notsureGoHome").click((function(){$("div.confirmDiv").css({zIndex:"-99",opacity:"0"}).hide()})),$("#logInDoor").hide()}function memBox(){$(".icon >a , a.signLink").click((function(o){o.preventDefault()})),$("a.signLink").click((function(){signBox(),$("form input").css({backgroundColor:"rgba(0, 0, 0, 0)",border:"none",borderBottom:"1px solid #BDA79E"}),$("form select").css("border","1px solid #BDA79E"),$("#alivebox").removeClass("bcgColor")})),$("a.logLink").click((function(o){backToLog(),$("form input").css({backgroundColor:"rgba(0, 0, 0, 0)",border:"none",borderBottom:"1px solid #BDA79E"}),$("form select").css("border","1px solid #BDA79E"),$("form select option").attr("selected",!1),$("form select option:first-child").attr("selected",!0)})),$("div.closebtn").click((function(o){closeLB(o.target)}))}function changeBGC(){$(this).css({backgroundColor:"rgba(0, 0, 0, 0)",border:"none",borderBottom:"1px solid #BDA79E"})}function getCookie(o){for(var e=o+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var t=i[n];" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return""}function checkCookie(o){return""!=getCookie(o)}function confirmLogSign(o){$("#sureGoHome").hide(),$("#notsureGoHome").attr("value","確認"),$("div.confirmDiv").find("p.contentFont").text(o),$("div.confirmDiv").show().css({zIndex:"99",opacity:"1"}),$("#notsureGoHome").click((function(){$("div.confirmDiv").css({zIndex:"-99",opacity:"0"}).hide(),$("#sureGoHome").show(),$("#notsureGoHome").attr("value","取消")}))}$(document).ready((function(){if(new Vue({el:"#addressOption",data:{citys:["台北市","新北市","基隆市","桃園市","新竹市","新竹縣","苗栗縣","台中市","彰化縣","南投縣","雲林縣","嘉義市","嘉義縣","台南市","高雄市","屏東縣","宜蘭縣","花蓮縣","台東縣"]}}),str1="加入成功，請重新登入！",str3="帳號或密碼錯誤。",str4="此帳號已註冊，請重新輸入。",$("div#login , div#signUp").hide(),checkCookie("loging")){$("img.logMem").attr("src","../img/homepage/logInMemHome.png")}else{$("img.logMem").attr("src","../img/headerFooter/loginIcon.svg")}$("span.login img").click((function(){let o=checkCookie("loging");Boolean(o)?$("img.logMem").attr("src","../img/homepage/logInMemHome.png"):$("img.logMem").attr("src","../img/headerFooter/loginIcon.svg"),Boolean(o)?$("span.logMem").slideToggle():(logBox(),memBox())})),$("label.alive").click((function(){$("#alivebox").toggleClass("bcgColor")})),$(".logout").click((function(){$("div.confirmDiv").hide(),$("div.confirmDiv").find("p.contentFont").text("確認是否登出？"),$("div.confirmDiv").show().css({zIndex:"99",opacity:"1"}),$("#sureGoHome").click((function(){let o=new Date(Date.now()).toUTCString();document.cookie=`loging=; expires=${o}; path=/`,$("span.logMem").hide(),$("img.logMem").attr("src","../img/headerFooter/loginIcon.svg"),$("div.confirmDiv").css({zIndex:"-99",opacity:"0"}).hide(),$.ajax({type:"POST",url:"./clearSession.php"})})),$("#notsureGoHome").click((function(){$("div.confirmDiv").css({zIndex:"-99",opacity:"0"}).hide()}))})),$("button.login").mouseenter((function(){$("#logInDoor").show(),$("#Path_18").hide(),logDoorAni()})),$("button.login").mouseout((function(){logDoorBackAni()})),$("button.login").click((function(){if(""==$("input#account").val()&&""!==$("input#pwd").val()){confirmLogSign("請輸入帳號。"),$("input#account").css("border","1px solid red")}else if(""!==$("input#account").val()&&""==$("input#pwd").val()){confirmLogSign("請輸入密碼。"),$("input#pwd").css("border","1px solid red")}else if(""==$("input#account").val()&&""==$("input#pwd").val()){confirmLogSign("請輸入帳號、密碼。"),$("input#account").css("border","1px solid red"),$("input#pwd").css("border","1px solid red")}else if(""!==$("input#account").val()&&""!==$("input#pwd").val()){let o=$("#account").val(),e=$("#pwd").val();$.ajax({url:"./LoginR.php",data:{account:o,pwd:e},type:"POST",dataType:"text",success(o){$("body").append(o),1==o?confirmLogSign(str3):($("div#login").css("z-index","-3").hide(),$("div.login").css({opacity:"0",top:"-30vh"}),$("form input").val(""),$("form select option").attr("selected",!1),$("form select option:first-child").attr("selected",!0),$("img.logMem").attr("src","../img/homepage/logInMemHome.png"),setTimeout(()=>{$.ajax({url:"./getSession.php",type:"POST",dataType:"text",success(o){confirmLogSign(o+"，歡迎回來！")}})},100))}})}})),$("#memPhoneJH").keydown((function(o){o.which>=48&&o.which<=57||8==o.which||46==o.which||37==o.which||39==o.which||13==o.which||o.preventDefault()})),$("#memPhoneJH").keyup((function(o){let e=o.target.value.replace(/\D/g,"");o.target.value=e})),$("#memPhoneJH").change((function(o){let e=$(this).val();if(!/^[0-9]{2}[0-9]{8}$/g.test(e)){confirmLogSign("請輸入正確手機格式。")}})),$("#memEmailJH").change((function(o){let e=$(this).val();if(!/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/g.test(e)){confirmLogSign("請輸入正確EMAIL格式。")}})),$("#memAccountJH").keyup((function(o){let e=o.target.value.replace(/\W/g,"");o.target.value=e})),$("button.signup").click((function(){let o=1,e=$("#memPhoneJH").val(),i=/^09$/g.test(e);switch(console.log(i),$("form.signUp input").each((function(){""==$(this).val().trim()&&1==i&&($(this).css("border","1px solid red"),$("#memPhoneJH").css("border","1px solid red"),o=0)})),0==Boolean($('select[name="memCity"]').val())&&($('select[name="memCity"]').css("border","1px solid red"),o=0),o){case 0:confirmLogSign("紅色方框為必填欄位，請輸入完整資訊。");break;case 1:let o=$("#memAccountJH").val().trim(),e=$("#memPwdJH").val().trim(),i=o.length,n=e.length;if(i<6||i>12){confirmLogSign("帳號請輸入 6 - 12 字元。")}else if(n<6||n>12){confirmLogSign("密碼請輸入 6 - 12 字元。")}else if(i<6&&i>12||n<8&&n>12){confirmLogSign("帳號及密碼請輸入 6 - 12 字元。")}else{let i=$("#memNameJH").val().trim(),n=$("#memPhoneJH").val().trim(),t=$("#memEmailJH").val().trim(),c=$("#memCityJH").val().trim(),s=$("#memAddressJH").val().trim();if(e!==$("#memCheckPJH").val().trim()){confirmLogSign("確認密碼有誤。")}else{let r=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/g;if(/^[0-9]{2}[0-9]{8}$/g.test(n))if(r.test(t))$.ajax({url:"./SignR.php",data:{memAccount:o,memPwd:e,memName:i,memPhone:n,memEmail:t,memCity:c,memAddress:s},type:"POST",dataType:"text",success(o){$("body").append(o)}});else{confirmLogSign("請輸入正確EMAIL格式。")}else{confirmLogSign("請輸入正確手機格式。"),$("#memPhoneJH").css("border","1px solid red")}}}}})),$("input").change(changeBGC),$("select").change((function(){$(this).css("border","1px solid #BDA79E"),$(this).find("option:first-child").attr("selected",!1)}))}));